# Audit Report Templates

This document describes the structure and templates for all audit reports generated by the Full System Audit Tool.

## Report Types

The audit tool generates four types of reports:

1. **Summary Report** - High-level overview of audit results
2. **Route Report** - Detailed inventory of all routes and API calls
3. **Issue Report** - Categorized list of all detected issues
4. **Fix Tracking Report** - Status tracking for issue resolution
5. **Comprehensive Report** - Combined report with all sections

---

## 1. Summary Report Template

### Purpose
Provides a quick overview of the audit results with key metrics and recommendations.

### Structure

```markdown
# Audit Summary Report

**Generated:** [timestamp]

## Overall Status: [icon] [status]

---

## ğŸ“ Route Discovery

| Metric | Count | Status |
|--------|-------|--------|
| Total Routes | [count] | [icon] |
| Frontend API Calls | [count] | [icon] |
| Matched Routes | [count] ([percentage]%) | [icon] |
| Unmatched Routes | [count] | [icon] |

## ğŸ§ª Verification Results

| Metric | Count | Status |
|--------|-------|--------|
| Tests Passed | [count] ([percentage]%) | [icon] |
| Tests Failed | [count] | [icon] |

## ğŸ” Issues Detected

| Severity | Count | Status |
|----------|-------|--------|
| ğŸ”´ Critical | [count] | [icon] |
| ğŸŸ  High | [count] | [icon] |
| ğŸŸ¡ Medium | [count] | [icon] |
| ğŸŸ¢ Low | [count] | [icon] |
| **Total** | **[count]** | [icon] |

---

## ğŸ’¡ Recommendations

- [recommendation 1]
- [recommendation 2]
- ...
```

### Status Icons
- âœ… Success / Good
- âš ï¸ Warning / Needs Attention
- âŒ Error / Critical
- â„¹ï¸ Information

---

## 2. Route Report Template

### Purpose
Provides a complete inventory of all backend routes and frontend API calls, grouped by module.

### Structure

```markdown
# Detailed Route Inventory Report

**Generated:** [timestamp]

**Total Routes:** [count]
**Modular Routes:** [count]
**Legacy Routes:** [count]

---

## Table of Contents

- [Modular Routes](#modular-routes)
- [Legacy Routes](#legacy-routes)
- [Frontend-Backend Matches](#frontend-backend-matches)
- [Unmatched Backend Routes](#unmatched-backend-routes)
- [Unmatched Frontend Calls](#unmatched-frontend-calls)

---

## Modular Routes

### Module: [module-name]

**Routes:** [count]

| Method | Path | Handler | Auth | Middleware |
|--------|------|---------|------|------------|
| [method] | `[path]` | [handler] | [icon] | [middleware] |
...

---

## Legacy Routes

**Total Legacy Routes:** [count]

| Method | Path | Handler | Auth | File |
|--------|------|---------|------|------|
| [method] | `[path]` | [handler] | [icon] | [file] |
...

---

## Frontend-Backend Matches

**Total Matches:** [count]

| Frontend Component | Method | Path | Backend Module | Backend Handler |
|--------------------|--------|------|----------------|------------------|
| [component] | [method] | `[path]` | [module] | [handler] |
...

---

## Unmatched Backend Routes

[status message]

| Method | Path | Module | Handler |
|--------|------|--------|----------|
| [method] | `[path]` | [module] | [handler] |
...

---

## Unmatched Frontend Calls

[status message]

| Component | Method | Path | File | Line |
|-----------|--------|------|------|------|
| [component] | [method] | `[path]` | [file] | [line] |
...
```

### Auth Icons
- ğŸ”’ Requires Authentication
- ğŸ”“ Public Access

---

## 3. Issue Report Template

### Purpose
Provides detailed information about all detected issues, categorized by severity.

### Structure

```markdown
# Issue Report

**Generated:** [timestamp]

**Total Issues:** [count]

---

## Summary by Severity

| Severity | Count | Icon |
|----------|-------|------|
| ğŸ”´ Critical | [count] | [icon] |
| ğŸŸ  High | [count] | [icon] |
| ğŸŸ¡ Medium | [count] | [icon] |
| ğŸŸ¢ Low | [count] | [icon] |

---

## Table of Contents

- [ğŸ”´ Critical Issues](#-critical-issues)
- [ğŸŸ  High Priority Issues](#-high-priority-issues)
- [ğŸŸ¡ Medium Priority Issues](#-medium-priority-issues)
- [ğŸŸ¢ Low Priority Issues](#-low-priority-issues)

---

## ğŸ”´ Critical Issues

**Count:** [count]

âš ï¸ **These issues require immediate attention!**

### Issue [number]: [title]

**ID:** `[issue-id]`
**Type:** [type]
**Severity:** [icon] [severity]

**Description:**

[description]

**Location:**

- **File:** `[file-path]`
- **Line:** [line-number]

**Related Routes:**

- `[method] [path]` ([module])
...

**Suggested Fix:**

[suggested-fix]

---

[repeat for each issue]
```

### Issue Types
- ROUTE_MISMATCH
- DUPLICATE_PREFIX
- AUTH_FAILURE
- DATABASE_ERROR
- VALIDATION_ERROR
- MISSING_ROUTE

---

## 4. Fix Tracking Report Template

### Purpose
Tracks the resolution status of all issues with timestamps and fix information.

### Structure

```markdown
# Fix Tracking Report

**Generated:** [timestamp]

## Status Summary

| Status | Count | Percentage |
|--------|-------|------------|
| ğŸ“‹ OPEN | [count] | [percentage]% |
| ğŸ”„ IN_PROGRESS | [count] | [percentage]% |
| âœ… RESOLVED | [count] | [percentage]% |
| ğŸš« WONT_FIX | [count] | [percentage]% |

---

## âœ… Resolved Issues

**Count:** [count]

### [issue-title]

**ID:** `[issue-id]`
**Severity:** [icon] [severity]
**Type:** [type]

**Fix Applied:**

- **Date:** [timestamp]
- **Description:** [fix-description]
- **Commit:** `[commit-hash]`
- **Author:** [author-name]

---

## ğŸ”„ In Progress Issues

**Count:** [count]

### [issue-title]

**ID:** `[issue-id]`
**Severity:** [icon] [severity]
**Type:** [type]
**Created:** [timestamp]
**Location:** `[file]` (line [line])

---

## ğŸ“‹ Open Issues

**Count:** [count]

### [severity-icon] [severity] Priority

[list of open issues]

---

## ğŸš« Won't Fix Issues

**Count:** [count]

[list of won't fix issues]
```

### Status Icons
- ğŸ“‹ Open
- ğŸ”„ In Progress
- âœ… Resolved
- ğŸš« Won't Fix

---

## 5. Comprehensive Report Template

### Purpose
Combines all report sections into a single comprehensive document with metadata and table of contents.

### Structure

```markdown
# Comprehensive Audit Report

## Report Metadata

| Property | Value |
|----------|-------|
| **Generated** | [timestamp] |
| **Application Version** | [version] |
| **Environment** | [environment] |
| **Audit Type** | [audit-type] |
| **Report ID** | `[report-id]` |

---

## Table of Contents

1. [Executive Summary](#executive-summary)
2. [Route Discovery](#route-discovery)
3. [Verification Results](#verification-results)
4. [Issues Detected](#issues-detected)
5. [Detailed Route Inventory](#detailed-route-inventory)
6. [Fix Tracking](#fix-tracking)
7. [Recommendations](#recommendations)

---

## Executive Summary

**Overall System Health:** [icon] [status]

[summary-text]

---

## Route Discovery

[route-discovery-section]

---

## Verification Results

[verification-section]

---

## Issues Detected

[issues-summary-section]

---

## Detailed Route Inventory

For a complete route inventory, see the separate **Route Report**.

**Quick Stats:**
- Total Routes: [count]
- Modular Routes: [count]
- Legacy Routes: [count]

---

## Fix Tracking

For detailed fix tracking, see the separate **Fix Tracking Report**.

**Status Overview:**
- Open: [count]
- In Progress: [count]
- Resolved: [count]
- Won't Fix: [count]

---

## Recommendations

[recommendations]

---

## Report Information

This report was automatically generated by the Full System Audit Tool.

**Next Steps:**
1. Review critical and high-priority issues
2. Address unmatched routes and API calls
3. Fix failing tests
4. Re-run audit to verify fixes

For questions or issues with this report, please contact the development team.
```

---

## Report Generation Usage

### Generate Summary Report

```javascript
const ReportGenerator = require('./reporters/ReportGenerator');
const generator = new ReportGenerator();

const summaryReport = generator.generateSummaryReport(auditResults);
```

### Generate Route Report

```javascript
const routeReport = generator.generateRouteReport(auditResults);
```

### Generate Issue Report

```javascript
const issueReport = generator.generateIssueReport(auditResults);
```

### Generate Fix Tracking Report

```javascript
const fixTrackingReport = generator.generateFixTrackingReport(auditResults.issues);
```

### Generate Comprehensive Report

```javascript
const comprehensiveReport = generator.generateComprehensiveReport(
  auditResults,
  {
    version: '1.0.0',
    environment: 'production',
    auditType: 'full'
  }
);
```

---

## Report Output

All reports are generated in Markdown format and can be:

1. **Saved to files** - Write to `.md` files in the `reports/` directory
2. **Converted to HTML** - Use a Markdown-to-HTML converter for web viewing
3. **Converted to PDF** - Use tools like `markdown-pdf` for PDF generation
4. **Displayed in terminal** - Use terminal Markdown renderers for CLI viewing

### Example: Saving Reports

```javascript
const fs = require('fs');
const path = require('path');

// Generate reports
const summaryReport = generator.generateSummaryReport(auditResults);
const routeReport = generator.generateRouteReport(auditResults);
const issueReport = generator.generateIssueReport(auditResults);
const fixTrackingReport = generator.generateFixTrackingReport(auditResults.issues);
const comprehensiveReport = generator.generateComprehensiveReport(auditResults, metadata);

// Save to files
const reportsDir = path.join(__dirname, '../reports');
fs.mkdirSync(reportsDir, { recursive: true });

fs.writeFileSync(path.join(reportsDir, 'summary.md'), summaryReport);
fs.writeFileSync(path.join(reportsDir, 'routes.md'), routeReport);
fs.writeFileSync(path.join(reportsDir, 'issues.md'), issueReport);
fs.writeFileSync(path.join(reportsDir, 'fix-tracking.md'), fixTrackingReport);
fs.writeFileSync(path.join(reportsDir, 'comprehensive.md'), comprehensiveReport);
```

---

## Customization

The ReportGenerator class can be extended to customize report formatting:

```javascript
class CustomReportGenerator extends ReportGenerator {
  // Override methods to customize formatting
  _getStatusIcon(status) {
    // Custom icon logic
  }
  
  _formatIssue(issue, index) {
    // Custom issue formatting
  }
}
```

---

## Best Practices

1. **Generate all report types** - Each report serves a different purpose
2. **Include metadata** - Always provide version, environment, and audit type
3. **Archive reports** - Keep historical reports for comparison
4. **Review regularly** - Run audits after significant changes
5. **Track fixes** - Update issue status as fixes are applied
6. **Share reports** - Distribute to relevant team members

---

## Report Maintenance

- Reports should be generated after each audit run
- Old reports should be archived with timestamps
- Fix tracking should be updated as issues are resolved
- Comprehensive reports should be generated for stakeholder reviews
