# Production Environment Configuration Template
# Copy this file to .env.production and fill in the values
# NEVER commit .env.production to version control!

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=5000
NODE_ENV=production

# ============================================
# DATABASE CONFIGURATION (AWS RDS PostgreSQL)
# ============================================
# These will be provided by Terraform outputs
PG_HOST=your-rds-endpoint.rds.amazonaws.com
PG_PORT=5432
PG_DATABASE=roastify
PG_USER=dbadmin
PG_PASSWORD=your-secure-database-password-here
PG_SSL=true
PG_POOL_MAX=20

# ============================================
# JWT CONFIGURATION
# ============================================
# CRITICAL: Generate a strong random secret!
# Run: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=REPLACE_WITH_STRONG_RANDOM_SECRET_AT_LEAST_64_CHARACTERS_LONG
JWT_EXPIRES_IN=7d

# ============================================
# APPLICATION CONFIGURATION
# ============================================
APP_NAME=Roastify
APP_URL=https://api.roastify.online
SUPPORT_EMAIL=support@roastify.online

# Frontend URL (for CORS)
FRONTEND_URL=https://app.roastify.online

# ============================================
# EMAIL CONFIGURATION
# ============================================
# Option 1: Azure Communication Services (Recommended)
EMAIL_FROM=noreply@roastify.online
AZURE_COMMUNICATION_CONNECTION_STRING=endpoint=https://your-resource.communication.azure.com/;accesskey=your-access-key

# Option 2: AWS SES (Alternative)
# AWS_SES_REGION=us-east-1
# AWS_SES_ACCESS_KEY_ID=your-access-key
# AWS_SES_SECRET_ACCESS_KEY=your-secret-key

# ============================================
# TOKEN EXPIRATION
# ============================================
EMAIL_VERIFICATION_EXPIRY=24h
PASSWORD_RESET_EXPIRY=1h

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info

# ============================================
# AWS CONFIGURATION (Optional - for S3 file uploads)
# ============================================
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=roastify-storage-123456789
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# ============================================
# MONITORING (Optional - Application Insights)
# ============================================
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=https://...

# ============================================
# SECURITY HEADERS
# ============================================
# CORS_ORIGIN=https://app.roastify.online
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# NOTES
# ============================================
# 1. After Terraform deployment, get RDS endpoint from outputs:
#    terraform output rds_address
#
# 2. Generate JWT secret:
#    node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# 3. Store sensitive values in AWS Secrets Manager for better security
#
# 4. Use AWS Systems Manager Parameter Store for non-sensitive config
#
# 5. Enable SSL/TLS for database connections in production
